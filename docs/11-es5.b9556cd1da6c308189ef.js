!function(){var t;function e(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var c=Object.prototype.toString.call(t).slice(8,-1);"Object"===c&&t.constructor&&(c=t.constructor.name);if("Map"===c||"Set"===c)return Array.from(t);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return n(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,c=new Array(e);n<e;n++)c[n]=t[n];return c}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var c=e[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function i(t,e,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var c=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(c){var r=Object.getOwnPropertyDescriptor(c,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,c=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(c,arguments,r)}else n=c.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"3OEI":function(n,r,b){"use strict";b.r(r),b.d(r,"ModuleModule",function(){return ct});var l,d=b("3Pt+"),s=b("PCNd"),p=b("tyNb"),m=b("ZXMZ"),y=b("Z8VL"),v=b("o+DB"),T=b("9UZh"),g=b("82i/"),U=b("vmnB"),h=b("9QbX"),C=b("fXoL"),w=b("jhN1"),E=b("ZzPI"),k=b("6t9p"),S=((l=function(t){a(r,t);var n=u(r);function r(t,e,o,i,a){var b;return c(this,r),(b=n.call(this,t,o,i)).raceService=e,b.titleService=a,b}return o(r,[{key:"ngOnInit",value:function(){this.titleService.setTitle("".concat(h.a," - Modules")),this.races=this.raceService.getEntities(),this.moduleTypes=g.a.values(v.a),i(f(r.prototype),"ngOnInit",this).call(this)}},{key:"calculateMaxEfficiency",value:function(t){if(null!=t.product&&null!=t.product.production){var n=t.product.production.map(function(t){return null==t.effects?null:t.effects.find(function(t){return t.type==U.a.work})}).filter(function(t){return null!=t}).map(function(t){return t.product});if(n.length>0)return 100*(1+Math.max.apply(Math,e(n)))}return 100}},{key:"calculateMaxEfficiencyDisplay",value:function(t){if(null!=t.product){if(null!=t.product.production){var n=t.product.production.map(function(t){return null==t.effects?null:t.effects.find(function(t){return t.type==U.a.work})}).filter(function(t){return null!=t}).map(function(t){return t.product});if(n.length>0)return 100*(1+Math.max.apply(Math,e(n)))+"%"}return"100%"}return"-"}}]),r}(y.a)).\u0275fac=function(t){return new(t||l)(C.Pb(m.a),C.Pb(T.a),C.Pb(p.c),C.Pb(p.a),C.Pb(w.c))},l.\u0275cmp=C.Jb({type:l,selectors:[["ng-component"]],features:[C.zb],decls:20,vars:16,consts:function(){var e,n;return[[1,"row","content-row"],[1,"col-md-12"],[1,"card","shadow"],[1,"card-header","shadow-sm"],$localize(t||(e=[":@@stationModules\u241f9695e47d610a7e6f28a474cd653a904137fac588\u241f3051929082094770473: Station Modules "],n||(n=e.slice(0)),t=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})))),[1,"card-body"],["keyExpr","id",3,"dataSource","allowColumnReordering","allowColumnResizing","showBorders","hoverStateEnabled","onCellClick"],[3,"showPageSizeSelector","showNavigationButtons"],["mode","multiple"],[3,"applyFilter","visible"],[3,"visible"],["dataField","name","caption","Name"],["dataField","type","caption","Type"],[3,"dataSource"],["dataField","makerRace.id","caption","Race"],["valueExpr","id","displayExpr","name",3,"dataSource"],["dataField","product.name","caption","Product"],["caption","Max Efficiency","name","maxEfficiency",3,"calculateDisplayValue","calculateSortValue","allowSorting","allowFiltering"],["column","name","summaryType","count"]]},template:function(t,e){1&t&&(C.Ub(0,"div",0),C.Ub(1,"div",1),C.Ub(2,"div",2),C.Ub(3,"div",3),C.Yb(4,4),C.Tb(),C.Ub(5,"div",5),C.Ub(6,"dx-data-grid",6),C.hc("onCellClick",function(t){return e.onRowSelect(t)}),C.Qb(7,"dxo-pager",7),C.Qb(8,"dxo-sorting",8),C.Qb(9,"dxo-filter-row",9),C.Qb(10,"dxo-filter-panel",10),C.Qb(11,"dxi-column",11),C.Ub(12,"dxi-column",12),C.Qb(13,"dxo-lookup",13),C.Tb(),C.Ub(14,"dxi-column",14),C.Qb(15,"dxo-lookup",15),C.Tb(),C.Qb(16,"dxi-column",16),C.Qb(17,"dxi-column",17),C.Ub(18,"dxo-summary"),C.Qb(19,"dxi-total-item",18),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.Tb()),2&t&&(C.Cb(6),C.pc("dataSource",e.entities)("allowColumnReordering",!0)("allowColumnResizing",!0)("showBorders",!0)("hoverStateEnabled",!0),C.Cb(1),C.pc("showPageSizeSelector",!0)("showNavigationButtons",!0),C.Cb(2),C.pc("applyFilter",e.currentFilter)("visible",!0),C.Cb(1),C.pc("visible",!0),C.Cb(3),C.pc("dataSource",e.moduleTypes),C.Cb(2),C.pc("dataSource",e.races),C.Cb(2),C.pc("calculateDisplayValue",e.calculateMaxEfficiencyDisplay)("calculateSortValue",e.calculateMaxEfficiency)("allowSorting",!0)("allowFiltering",!0))},directives:[E.a,k.Y,k.jb,k.E,k.C,k.b,k.S,k.mb,k.l],encapsulation:2}),l),F=b("Lswn"),x=b("6mEA"),j=b("ofXK");function O(t,e){if(1&t&&(C.Ub(0,"div",18),C.Ub(1,"label",19),C.Ec(2),C.Tb(),C.Tb()),2&t){var n=C.jc(3);C.Cb(2),C.Fc(n.entity.description)}}var P=function(t){return["/races",t]};function I(t,e){if(1&t&&(C.Ub(0,"span"),C.Ub(1,"a",20),C.Ec(2),C.Tb(),C.Tb()),2&t){var n=C.jc(3);C.Cb(1),C.pc("routerLink",C.sc(2,P,n.entity.makerRace.id)),C.Cb(1),C.Fc(n.entity.makerRace.name)}}function M(t,e){1&t&&(C.Ub(0,"span"),C.Ec(1," - "),C.Tb())}function R(t,e){if(1&t&&(C.Ub(0,"span"),C.Ec(1),C.Tb()),2&t){var n=C.jc(3);C.Cb(1),C.Fc(n.entity.type)}}function z(t,e){1&t&&(C.Ub(0,"span"),C.Ec(1," - "),C.Tb())}var A=function(t){return["/wares/",t]};function Q(t,e){if(1&t&&(C.Ub(0,"span"),C.Ub(1,"a",20),C.Ec(2),C.Tb(),C.Tb()),2&t){var n=C.jc(3);C.Cb(1),C.pc("routerLink",C.sc(2,A,n.entity.product.id)),C.Cb(1),C.Fc(n.entity.product.name)}}function D(t,e){1&t&&(C.Ub(0,"span"),C.Ec(1," - "),C.Tb())}function L(t,e){if(1&t&&(C.Sb(0),C.Ub(1,"dt",11),C.Ec(2),C.Tb(),C.Ub(3,"dd",12),C.Ec(4),C.kc(5,"number"),C.Tb(),C.Rb()),2&t){var n=C.jc(3);C.Cb(2),C.Gc("Storage Capacity (",null==n.entity.cargo.type?null:n.entity.cargo.type.name,")"),C.Cb(2),C.Fc(C.lc(5,2,n.entity.cargo.max))}}function N(t,e){if(1&t&&(C.Ub(0,"span"),C.Ec(1),C.kc(2,"number"),C.Tb()),2&t){var n=C.jc(3);C.Cb(1),C.Fc(C.lc(2,1,n.entity.explosionDamage))}}function B(t,e){1&t&&(C.Ub(0,"span"),C.Ec(1," - "),C.Tb())}function _(t,e){if(1&t&&(C.Sb(0),C.Ub(1,"dt",11),C.Ec(2,"Workforce Needed"),C.Tb(),C.Ub(3,"dd",12),C.Ec(4),C.Tb(),C.Rb()),2&t){var n=C.jc(3);C.Cb(4),C.Fc(n.entity.workForce.max)}}function $(t,e){if(1&t&&(C.Sb(0),C.Ub(1,"dt",11),C.Ec(2,"Workforce Capacity"),C.Tb(),C.Ub(3,"dd",12),C.Ec(4),C.Tb(),C.Rb()),2&t){var n=C.jc(3);C.Cb(4),C.Fc(n.entity.workForce.capacity)}}var V=function(t){return["/factions/",t]};function Z(t,e){if(1&t&&(C.Ub(0,"li"),C.Ub(1,"a",20),C.Ec(2),C.Tb(),C.Tb()),2&t){var n=e.$implicit;C.Cb(1),C.pc("routerLink",C.sc(2,V,n.id)),C.Cb(1),C.Fc(n.name)}}function J(t,e){if(1&t&&(C.Ub(0,"tr"),C.Ub(1,"td"),C.Ec(2),C.Ub(3,"a",20),C.Ec(4),C.Tb(),C.Tb(),C.Ub(5,"td",30),C.Ec(6),C.kc(7,"number"),C.Tb(),C.Ub(8,"td",30),C.Ec(9),C.kc(10,"number"),C.Tb(),C.Ub(11,"td",30),C.Ec(12),C.kc(13,"number"),C.Tb(),C.Tb()),2&t){var n=e.$implicit;C.Cb(2),C.Gc(" ",n.amount," x "),C.Cb(1),C.pc("routerLink",C.sc(12,A,n.ware.id)),C.Cb(1),C.Fc(n.ware.name),C.Cb(2),C.Fc(C.lc(7,6,n.amount*n.ware.price.min)),C.Cb(3),C.Fc(C.lc(10,8,n.amount*n.ware.price.max)),C.Cb(3),C.Fc(C.lc(13,10,n.amount*n.ware.price.avg))}}function X(t,e){if(1&t&&(C.Ub(0,"div",9),C.Ub(1,"div",28),C.Ub(2,"h6"),C.Ec(3,"Requirements"),C.Tb(),C.Ub(4,"table",29),C.Ub(5,"thead"),C.Ub(6,"tr"),C.Ub(7,"th"),C.Ec(8,"Resource"),C.Tb(),C.Ub(9,"th",30),C.Ec(10,"Min"),C.Tb(),C.Ub(11,"th",30),C.Ec(12,"Max"),C.Tb(),C.Ub(13,"th",30),C.Ec(14,"Avg"),C.Tb(),C.Tb(),C.Tb(),C.Ub(15,"tbody"),C.Cc(16,J,14,14,"tr",15),C.Tb(),C.Ub(17,"tfoot"),C.Ub(18,"tr"),C.Ub(19,"th",30),C.Ec(20,"Total"),C.Tb(),C.Ub(21,"th",30),C.Ec(22),C.kc(23,"number"),C.Tb(),C.Ub(24,"th",30),C.Ec(25),C.kc(26,"number"),C.Tb(),C.Ub(27,"th",30),C.Ec(28),C.kc(29,"number"),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.Tb()),2&t){var n=C.jc().$implicit,c=C.jc(4);C.Cb(16),C.pc("ngForOf",n.wares),C.Cb(6),C.Fc(C.lc(23,4,c.getTotalMin(n))),C.Cb(3),C.Fc(C.lc(26,6,c.getTotalMax(n))),C.Cb(3),C.Fc(C.lc(29,8,c.getTotalAvg(n)))}}function G(t,e){if(1&t&&(C.Ub(0,"div",23),C.Ub(1,"div",24),C.Ub(2,"div",25),C.Ec(3," Production: "),C.Ub(4,"em"),C.Ec(5),C.Tb(),C.Tb(),C.Ub(6,"div",26),C.Cc(7,X,30,10,"div",27),C.Ub(8,"div",9),C.Ub(9,"div",28),C.Ub(10,"h6"),C.Ec(11,"Production"),C.Tb(),C.Ub(12,"table",29),C.Ub(13,"tbody"),C.Ub(14,"tr"),C.Ub(15,"td"),C.Ec(16,"Time"),C.Tb(),C.Ub(17,"td",30),C.Ec(18),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.Tb()),2&t){var n=e.$implicit,c=C.jc(4);C.Cb(5),C.Fc(n.name),C.Cb(2),C.pc("ngIf",n.wares.length),C.Cb(11),C.Fc(c.getProductionTime(n.time))}}function W(t,e){if(1&t&&(C.Ub(0,"div",21),C.Cc(1,G,19,3,"div",22),C.Tb()),2&t){var n=C.jc(3);C.Cb(1),C.pc("ngForOf",n.entityProduction)}}function Y(t,e){if(1&t&&(C.Ub(0,"div",7),C.Cc(1,O,3,1,"div",8),C.Ub(2,"div",9),C.Ub(3,"div",10),C.Ub(4,"dl",9),C.Ub(5,"dt",11),C.Ec(6,"Race"),C.Tb(),C.Ub(7,"dd",12),C.Cc(8,I,3,4,"span",13),C.Cc(9,M,2,0,"span",13),C.Tb(),C.Ub(10,"dt",11),C.Ec(11,"Type"),C.Tb(),C.Ub(12,"dd",12),C.Cc(13,R,2,1,"span",13),C.Cc(14,z,2,0,"span",13),C.Tb(),C.Ub(15,"dt",11),C.Ec(16,"Product"),C.Tb(),C.Ub(17,"dd",12),C.Cc(18,Q,3,4,"span",13),C.Cc(19,D,2,0,"span",13),C.Tb(),C.Cc(20,L,6,4,"ng-container",13),C.Ub(21,"dt",11),C.Ec(22,"Hull"),C.Tb(),C.Ub(23,"dd",12),C.Ec(24),C.kc(25,"number"),C.Tb(),C.Ub(26,"dt",11),C.Ec(27,"Explosion Damage"),C.Tb(),C.Ub(28,"dd",12),C.Cc(29,N,3,3,"span",13),C.Cc(30,B,2,0,"span",13),C.Tb(),C.Cc(31,_,5,1,"ng-container",13),C.Cc(32,$,5,1,"ng-container",13),C.Ub(33,"dt",11),C.Ec(34,"Owners"),C.Tb(),C.Ub(35,"dd",12),C.Ub(36,"ul",14),C.Cc(37,Z,3,4,"li",15),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.Ub(38,"div",10),C.Ub(39,"div",16),C.Ub(40,"dl",9),C.Ub(41,"dt",11),C.Ec(42,"Turrets"),C.Tb(),C.Ub(43,"dd",12),C.Ec(44),C.Tb(),C.Ub(45,"dt",11),C.Ec(46,"Shields"),C.Tb(),C.Ub(47,"dd",12),C.Ec(48),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.Cc(49,W,2,1,"div",17),C.Tb()),2&t){var n=C.jc(2);C.Cb(1),C.pc("ngIf","No information available"!=n.entity.description),C.Cb(7),C.pc("ngIf",n.entity.makerRace),C.Cb(1),C.pc("ngIf",!n.entity.makerRace),C.Cb(4),C.pc("ngIf",n.entity.type),C.Cb(1),C.pc("ngIf",!n.entity.type),C.Cb(4),C.pc("ngIf",n.entity.product),C.Cb(1),C.pc("ngIf",!n.entity.product),C.Cb(1),C.pc("ngIf",n.entity.cargo),C.Cb(4),C.Fc(C.lc(25,17,n.entity.hull)),C.Cb(5),C.pc("ngIf",n.entity.explosionDamage),C.Cb(1),C.pc("ngIf",!n.entity.explosionDamage),C.Cb(1),C.pc("ngIf",null==n.entity.workForce?null:n.entity.workForce.max),C.Cb(1),C.pc("ngIf",null==n.entity.workForce?null:n.entity.workForce.capacity),C.Cb(5),C.pc("ngForOf",n.entity.owners),C.Cb(7),C.Fc(n.getSlotsStr(n.entity.turrets)),C.Cb(4),C.Fc(n.getSlotsStr(n.entity.shields)),C.Cb(1),C.pc("ngIf",n.entityProduction&&n.entityProduction.length)}}function q(t,e){if(1&t&&(C.Ub(0,"div",3),C.Ub(1,"div",4),C.Ub(2,"a",5),C.Ec(3,"Station Modules"),C.Tb(),C.Ec(4),C.Tb(),C.Cc(5,Y,50,19,"div",6),C.Tb()),2&t){var n=C.jc();C.Cb(4),C.Gc(" - ",n.entity.name," "),C.Cb(1),C.pc("ngIf",n.entity)}}var H,K,tt,et=((tt=function(t){a(n,t);var e=u(n);function n(t,r,o,i){var a;return c(this,n),(a=e.call(this,r,o)).wareService=t,a.titleService=i,a}return o(n,[{key:"ngOnInit",value:function(){this.titleService.setTitle("".concat(h.a," - Modules")),i(f(n.prototype),"ngOnInit",this).call(this)}},{key:"onEntityLoaded",value:function(t){var e=this;this.titleService.setTitle("".concat(h.a," - Modules - ").concat(this.entity.name)),this.entityProduction=this.entity.production.map(function(t){return{amount:t.amount,effects:t.effects,method:t.method,name:t.name,time:t.time,wares:t.wares.map(function(t){return{ware:e.wareService.getEntity(t.ware),amount:t.amount}})}})}},{key:"getTotalMin",value:function(t){var e=0;return t.wares.forEach(function(t){e+=t.amount*t.ware.price.min}),e}},{key:"getTotalMax",value:function(t){var e=0;return t.wares.forEach(function(t){e+=t.amount*t.ware.price.max}),e}},{key:"getTotalAvg",value:function(t){var e=0;return t.wares.forEach(function(t){e+=t.amount*t.ware.price.avg}),e}},{key:"getProductionTime",value:function(t){var e=Math.trunc(t/60),n=t-60*e,c="";return e>0&&(c+=e+(1===e?" minute":" minutes")),n>0&&(e>0&&(c+=" "),c+=n+(1===n?" second":" seconds")),c}},{key:"getSlotsStr",value:function(t){var e=this.getSlots(t);return 0==e.length?"-":e.map(function(t){return"".concat(t.capacity," x ").concat(t.size)}).join(", ")}},{key:"getSlots",value:function(t){if(!t)return[];var e=t.reduce(function(t,e){return t[e.size]=t[e.size]||0,t[e.size]+=e.capacity||1,t},{}),n=[];return Object.keys(e).forEach(function(t){n.push({size:t,capacity:e[t]})}),n}}]),n}(x.a)).\u0275fac=function(t){return new(t||tt)(C.Pb(F.a),C.Pb(m.a),C.Pb(p.a),C.Pb(w.c))},tt.\u0275cmp=C.Jb({type:tt,selectors:[["ng-component"]],features:[C.zb],decls:3,vars:1,consts:[[1,"row","content-row"],[1,"col-md-12"],["class","card shadow",4,"ngIf"],[1,"card","shadow"],[1,"card-header","shadow-sm"],["routerLink","/modules"],["class","card-body small",4,"ngIf"],[1,"card-body","small"],["class","form-group row",4,"ngIf"],[1,"row"],[1,"col-md-6","col-sm-12"],[1,"col-5"],[1,"col-7"],[4,"ngIf"],[1,"list-unstyled"],[4,"ngFor","ngForOf"],[1,"col-md-4","col-sm-12"],["class","row mt-2 mb-2",4,"ngIf"],[1,"form-group","row"],[1,"col","col-form-label","col-form-label-sm"],[3,"routerLink"],[1,"row","mt-2","mb-2"],["class","col-md-6 col-sm-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-sm-6","col-lg-4"],[1,"card","shadow-sm"],[1,"card-header"],[1,"card-body"],["class","row",4,"ngIf"],[1,"col"],[1,"table","table-sm"],[1,"text-right"]],template:function(t,e){1&t&&(C.Ub(0,"div",0),C.Ub(1,"div",1),C.Cc(2,q,6,2,"div",2),C.Tb(),C.Tb()),2&t&&(C.Cb(2),C.pc("ngIf",e.entity))},directives:[j.l,p.e,j.k],pipes:[j.d],encapsulation:2}),tt),nt=((K=function t(){c(this,t)}).\u0275fac=function(t){return new(t||K)},K.\u0275mod=C.Nb({type:K}),K.\u0275inj=C.Mb({imports:[[p.f.forChild([{path:"",component:S},{path:":id",component:et}])],p.f]}),K),ct=((H=function t(){c(this,t)}).\u0275fac=function(t){return new(t||H)},H.\u0275mod=C.Nb({type:H}),H.\u0275inj=C.Mb({imports:[[j.b,d.c,s.a,E.b,nt]]}),H)}}])}();