!function(){var e;function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Wsvk:function(n,a,u){"use strict";u.r(a),u.d(a,"EquipmentModule",function(){return N});var s,b=u("ofXK"),f=u("3Pt+"),d=u("PCNd"),p=u("tyNb"),m=u("Z8VL"),v=u("tKlY"),h=u("6WvD"),w=u("9UZh"),y=u("1dbt"),g=u("b5aZ"),T=u("82i/"),C=u("9QbX"),S=u("fXoL"),P=u("jhN1"),E=u("ZzPI"),x=u("6t9p"),O=((s=function(e){i(a,e);var n=c(a);function a(e,o,r,i,c){var u;return t(this,a),(u=n.call(this,e,r,i)).raceService=o,u.titleService=c,u}return o(a,[{key:"ngOnInit",value:function(){this.titleService.setTitle("".concat(C.a," - Equipment")),this.sizes=T.a.values(h.a),this.equipmentTypes=T.a.values(y.a),this.equipmentClasses=T.a.values(g.a),this.races=this.raceService.getEntities(),r(l(a.prototype),"ngOnInit",this).call(this)}},{key:"onRowSelect",value:function(e){if("data"==e.rowType)return this.router.navigate([e.row.data.id],{relativeTo:this.route})}}]),a}(m.a)).\u0275fac=function(e){return new(e||s)(S.Pb(v.a),S.Pb(w.a),S.Pb(p.c),S.Pb(p.a),S.Pb(P.c))},s.\u0275cmp=S.Jb({type:s,selectors:[["ng-component"]],features:[S.zb],decls:22,vars:14,consts:function(){var t,n;return[[1,"row","content-row"],[1,"col-md-12"],[1,"card","shadow"],[1,"card-header","shadow-sm"],$localize(e||(t=[":@@equipment\u241f30613b1bc8b3724c655a1baab7ee3d2b3d0d3f9a\u241f7481681753363035881: Equipment "],n||(n=t.slice(0)),e=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}})))),[1,"card-body"],["keyExpr","id",3,"dataSource","allowColumnReordering","allowColumnResizing","showBorders","hoverStateEnabled","onCellClick"],[3,"showPageSizeSelector","showNavigationButtons"],["mode","multiple"],[3,"applyFilter","visible"],[3,"visible"],["dataField","name","caption","Name"],["dataField","size","caption","Size"],[3,"dataSource"],["dataField","race.id","caption","Race"],["valueExpr","id","displayExpr","name",3,"dataSource"],["dataField","type","caption","Type"],["dataField","equipmentClass","caption","Class"],["column","name","summaryType","count"]]},template:function(e,t){1&e&&(S.Ub(0,"div",0),S.Ub(1,"div",1),S.Ub(2,"div",2),S.Ub(3,"div",3),S.Yb(4,4),S.Tb(),S.Ub(5,"div",5),S.Ub(6,"dx-data-grid",6),S.hc("onCellClick",function(e){return t.onRowSelect(e)}),S.Qb(7,"dxo-pager",7),S.Qb(8,"dxo-sorting",8),S.Qb(9,"dxo-filter-row",9),S.Qb(10,"dxo-filter-panel",10),S.Qb(11,"dxi-column",11),S.Ub(12,"dxi-column",12),S.Qb(13,"dxo-lookup",13),S.Tb(),S.Ub(14,"dxi-column",14),S.Qb(15,"dxo-lookup",15),S.Tb(),S.Ub(16,"dxi-column",16),S.Qb(17,"dxo-lookup",13),S.Tb(),S.Ub(18,"dxi-column",17),S.Qb(19,"dxo-lookup",13),S.Tb(),S.Ub(20,"dxo-summary"),S.Qb(21,"dxi-total-item",18),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb(),S.Tb()),2&e&&(S.Cb(6),S.pc("dataSource",t.entities)("allowColumnReordering",!0)("allowColumnResizing",!0)("showBorders",!0)("hoverStateEnabled",!0),S.Cb(1),S.pc("showPageSizeSelector",!0)("showNavigationButtons",!0),S.Cb(2),S.pc("applyFilter",t.currentFilter)("visible",!0),S.Cb(1),S.pc("visible",!0),S.Cb(3),S.pc("dataSource",t.sizes),S.Cb(2),S.pc("dataSource",t.races),S.Cb(2),S.pc("dataSource",t.equipmentTypes),S.Cb(2),S.pc("dataSource",t.equipmentClasses))},directives:[E.a,x.Y,x.jb,x.E,x.C,x.b,x.S,x.mb,x.l],encapsulation:2}),s),k=u("6mEA"),U=u("Lswn");function j(e,t){if(1&e&&(S.Ub(0,"div",3),S.Ub(1,"div",4),S.Ub(2,"a",5),S.Ec(3,"Equipment"),S.Tb(),S.Ec(4),S.Tb(),S.Ub(5,"div",6),S.Ec(6," Coming soon "),S.Tb(),S.Tb()),2&e){var n=S.jc();S.Cb(4),S.Gc(" - ",n.entity.name," ")}}var R,z,q,Q=((q=function(e){i(a,e);var n=c(a);function a(e,o,r,i){var c;return t(this,a),(c=n.call(this,e,r)).wareService=o,c.titleService=i,c}return o(a,[{key:"ngOnInit",value:function(){this.titleService.setTitle("".concat(C.a," - Equipment")),r(l(a.prototype),"ngOnInit",this).call(this)}},{key:"onEntityLoaded",value:function(e){var t=this;this.titleService.setTitle("".concat(C.a," - ").concat(e.name)),this.entityProduction=e.production.map(function(e){return{amount:e.amount,effects:e.effects,method:e.method,name:e.name,time:e.time,wares:e.wares.map(function(e){return{ware:t.wareService.getEntity(e.ware),amount:e.amount}})}})}},{key:"getTotalMin",value:function(e){var t=0;return e.wares.forEach(function(e){t+=e.amount*e.ware.price.min}),t}},{key:"getTotalMax",value:function(e){var t=0;return e.wares.forEach(function(e){t+=e.amount*e.ware.price.max}),t}},{key:"getTotalAvg",value:function(e){var t=0;return e.wares.forEach(function(e){t+=e.amount*e.ware.price.avg}),t}},{key:"getProductionTime",value:function(e){var t=Math.trunc(e/60),n=e-60*t,o="";return t>0&&(o+=t+(1===t?" minute":" minutes")),n>0&&(t>0&&(o+=" "),o+=n+(1===n?" second":" seconds")),o}}]),a}(k.a)).\u0275fac=function(e){return new(e||q)(S.Pb(v.a),S.Pb(U.a),S.Pb(p.a),S.Pb(P.c))},q.\u0275cmp=S.Jb({type:q,selectors:[["ng-component"]],features:[S.zb],decls:3,vars:1,consts:[[1,"row","content-row"],[1,"col-md-12"],["class","card shadow",4,"ngIf"],[1,"card","shadow"],[1,"card-header","shadow-sm"],["routerLink","/races"],[1,"card-body","small"]],template:function(e,t){1&e&&(S.Ub(0,"div",0),S.Ub(1,"div",1),S.Cc(2,j,7,1,"div",2),S.Tb(),S.Tb()),2&e&&(S.Cb(2),S.pc("ngIf",t.entity))},directives:[b.l,p.e],encapsulation:2}),q),F=((z=function e(){t(this,e)}).\u0275fac=function(e){return new(e||z)},z.\u0275mod=S.Nb({type:z}),z.\u0275inj=S.Mb({imports:[[p.f.forChild([{path:"",component:O},{path:":id",component:Q}])],p.f]}),z),N=((R=function e(){t(this,e)}).\u0275fac=function(e){return new(e||R)},R.\u0275mod=S.Nb({type:R}),R.\u0275inj=S.Mb({imports:[[b.b,f.c,d.a,F,E.b]]}),R)}}])}();