!function(){var t;function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var c=e[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function c(t,e,c){return e&&n(t.prototype,e),c&&n(t,c),t}function i(t,e,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var c=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(c){var i=Object.getOwnPropertyDescriptor(c,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,c=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(c,arguments,i)}else n=c.apply(this,arguments);return b(this,n)}}function b(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{Zynk:function(n,r,b){"use strict";b.r(r),b.d(r,"ShipsModule",function(){return Z});var u,s=b("3Pt+"),d=b("PCNd"),p=b("tyNb"),f=b("Z8VL"),m=b("btHo"),T=b("9UZh"),h=b("6WvD"),v=b("AwWS"),g=b("4rDX"),y=b("82i/"),U=b("9QbX"),w=b("fXoL"),C=b("jhN1"),E=b("ZzPI"),S=b("6t9p"),F=((u=function(t){o(r,t);var n=a(r);function r(t,c,i,o,a){var b;return e(this,r),(b=n.call(this,t,i,o)).raceService=c,b.titleService=a,b}return c(r,[{key:"ngOnInit",value:function(){this.titleService.setTitle("".concat(U.a," - Ships")),this.sizes=y.a.values(h.a),this.shipTypes=y.a.values(v.a),this.purposes=y.a.values(g.a),this.races=this.raceService.getEntities(),i(l(r.prototype),"ngOnInit",this).call(this)}},{key:"calculateWeapons",value:function(t){return t.weapons?t.weapons.length:0}},{key:"calculateTurrets",value:function(t){return t.turrets?t.turrets.length:0}},{key:"calculateShields",value:function(t){return t.shields?t.shields.filter(function(t){return!t.group}).length:0}}]),r}(f.a)).\u0275fac=function(t){return new(t||u)(w.Pb(m.a),w.Pb(T.a),w.Pb(p.c),w.Pb(p.a),w.Pb(C.c))},u.\u0275cmp=w.Jb({type:u,selectors:[["ng-component"]],features:[w.zb],decls:26,vars:23,consts:function(){var e,n;return[[1,"row","content-row"],[1,"col-md-12"],[1,"card","shadow"],[1,"card-header","shadow-sm"],$localize(t||(e=[":@@stationModules\u241f507b83bf0d3a7ac263474775eaf61fd1d96186eb\u241f1588853216120456556: Ships "],n||(n=e.slice(0)),t=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})))),[1,"card-body"],["keyExpr","id",3,"dataSource","allowColumnReordering","allowColumnResizing","showBorders","hoverStateEnabled","onCellClick"],[3,"showPageSizeSelector","showNavigationButtons"],["mode","multiple"],[3,"applyFilter","visible"],[3,"visible"],["dataField","name","caption","Name"],["dataField","race.id","caption","Race"],["valueExpr","id","displayExpr","name",3,"dataSource"],["dataField","type","caption","Type"],[3,"dataSource"],["dataField","size","caption","Size"],["dataField","purpose","caption","Purpose"],["name","weapons","caption","Weapons","dataType","number",3,"allowSorting","allowFiltering","calculateCellValue"],["name","turrets","caption","Turrets","dataType","number",3,"allowSorting","allowFiltering","calculateCellValue"],["name","shields","caption","Shields","dataType","number",3,"allowSorting","allowFiltering","calculateCellValue"],["dataField","people","caption","People","dataType","number"],["column","name","summaryType","count"]]},template:function(t,e){1&t&&(w.Ub(0,"div",0),w.Ub(1,"div",1),w.Ub(2,"div",2),w.Ub(3,"div",3),w.Yb(4,4),w.Tb(),w.Ub(5,"div",5),w.Ub(6,"dx-data-grid",6),w.hc("onCellClick",function(t){return e.onRowSelect(t)}),w.Qb(7,"dxo-pager",7),w.Qb(8,"dxo-sorting",8),w.Qb(9,"dxo-filter-row",9),w.Qb(10,"dxo-filter-panel",10),w.Qb(11,"dxi-column",11),w.Ub(12,"dxi-column",12),w.Qb(13,"dxo-lookup",13),w.Tb(),w.Ub(14,"dxi-column",14),w.Qb(15,"dxo-lookup",15),w.Tb(),w.Ub(16,"dxi-column",16),w.Qb(17,"dxo-lookup",15),w.Tb(),w.Ub(18,"dxi-column",17),w.Qb(19,"dxo-lookup",15),w.Tb(),w.Qb(20,"dxi-column",18),w.Qb(21,"dxi-column",19),w.Qb(22,"dxi-column",20),w.Qb(23,"dxi-column",21),w.Ub(24,"dxo-summary"),w.Qb(25,"dxi-total-item",22),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Tb()),2&t&&(w.Cb(6),w.pc("dataSource",e.entities)("allowColumnReordering",!0)("allowColumnResizing",!0)("showBorders",!0)("hoverStateEnabled",!0),w.Cb(1),w.pc("showPageSizeSelector",!0)("showNavigationButtons",!0),w.Cb(2),w.pc("applyFilter",e.currentFilter)("visible",!0),w.Cb(1),w.pc("visible",!0),w.Cb(3),w.pc("dataSource",e.races),w.Cb(2),w.pc("dataSource",e.shipTypes),w.Cb(2),w.pc("dataSource",e.sizes),w.Cb(2),w.pc("dataSource",e.purposes),w.Cb(1),w.pc("allowSorting",!0)("allowFiltering",!0)("calculateCellValue",e.calculateWeapons),w.Cb(1),w.pc("allowSorting",!0)("allowFiltering",!0)("calculateCellValue",e.calculateTurrets),w.Cb(1),w.pc("allowSorting",!0)("allowFiltering",!0)("calculateCellValue",e.calculateShields))},directives:[E.a,S.Y,S.jb,S.E,S.C,S.b,S.S,S.mb,S.l],encapsulation:2}),u),k=b("6mEA"),x=b("Lswn"),P=b("ofXK");function O(t,e){if(1&t&&(w.Ub(0,"div",17),w.Ub(1,"label",18),w.Ec(2),w.Tb(),w.Tb()),2&t){var n=w.jc(3);w.Cb(2),w.Fc(n.entity.description)}}var j=function(t){return["/races",t]};function z(t,e){if(1&t&&(w.Ub(0,"span"),w.Ub(1,"a",19),w.Ec(2),w.Tb(),w.Tb()),2&t){var n=w.jc(3);w.Cb(1),w.pc("routerLink",w.sc(2,j,n.entity.race.id)),w.Cb(1),w.Fc(n.entity.race.name)}}function I(t,e){1&t&&(w.Ub(0,"span"),w.Ec(1," - "),w.Tb())}var R=function(t){return["/factions/",t]};function Q(t,e){if(1&t&&(w.Ub(0,"li"),w.Ub(1,"a",19),w.Ec(2),w.Tb(),w.Tb()),2&t){var n=e.$implicit;w.Cb(1),w.pc("routerLink",w.sc(2,R,n.id)),w.Cb(1),w.Fc(n.name)}}var M=function(t){return["/wares/",t]};function L(t,e){if(1&t&&(w.Ub(0,"tr"),w.Ub(1,"td"),w.Ec(2),w.Ub(3,"a",19),w.Ec(4),w.Tb(),w.Tb(),w.Ub(5,"td",29),w.Ec(6),w.kc(7,"number"),w.Tb(),w.Ub(8,"td",29),w.Ec(9),w.kc(10,"number"),w.Tb(),w.Ub(11,"td",29),w.Ec(12),w.kc(13,"number"),w.Tb(),w.Tb()),2&t){var n=e.$implicit;w.Cb(2),w.Gc(" ",n.amount," x "),w.Cb(1),w.pc("routerLink",w.sc(12,M,n.ware.id)),w.Cb(1),w.Fc(n.ware.name),w.Cb(2),w.Fc(w.lc(7,6,n.amount*n.ware.price.min)),w.Cb(3),w.Fc(w.lc(10,8,n.amount*n.ware.price.max)),w.Cb(3),w.Fc(w.lc(13,10,n.amount*n.ware.price.avg))}}function N(t,e){if(1&t&&(w.Ub(0,"div",9),w.Ub(1,"div",27),w.Ub(2,"h6"),w.Ec(3,"Requirements"),w.Tb(),w.Ub(4,"table",28),w.Ub(5,"thead"),w.Ub(6,"tr"),w.Ub(7,"th"),w.Ec(8,"Resource"),w.Tb(),w.Ub(9,"th",29),w.Ec(10,"Min"),w.Tb(),w.Ub(11,"th",29),w.Ec(12,"Max"),w.Tb(),w.Ub(13,"th",29),w.Ec(14,"Avg"),w.Tb(),w.Tb(),w.Tb(),w.Ub(15,"tbody"),w.Cc(16,L,14,14,"tr",15),w.Tb(),w.Ub(17,"tfoot"),w.Ub(18,"tr"),w.Ub(19,"th",29),w.Ec(20,"Total"),w.Tb(),w.Ub(21,"th",29),w.Ec(22),w.kc(23,"number"),w.Tb(),w.Ub(24,"th",29),w.Ec(25),w.kc(26,"number"),w.Tb(),w.Ub(27,"th",29),w.Ec(28),w.kc(29,"number"),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Tb()),2&t){var n=w.jc().$implicit,c=w.jc(4);w.Cb(16),w.pc("ngForOf",n.wares),w.Cb(6),w.Fc(w.lc(23,4,c.getTotalMin(n))),w.Cb(3),w.Fc(w.lc(26,6,c.getTotalMax(n))),w.Cb(3),w.Fc(w.lc(29,8,c.getTotalAvg(n)))}}function _(t,e){if(1&t&&(w.Ub(0,"div",22),w.Ub(1,"div",23),w.Ub(2,"div",24),w.Ec(3," Production: "),w.Ub(4,"em"),w.Ec(5),w.Tb(),w.Tb(),w.Ub(6,"div",25),w.Cc(7,N,30,10,"div",26),w.Ub(8,"div",9),w.Ub(9,"div",27),w.Ub(10,"h6"),w.Ec(11,"Production"),w.Tb(),w.Ub(12,"table",28),w.Ub(13,"tbody"),w.Ub(14,"tr"),w.Ub(15,"td"),w.Ec(16,"Time"),w.Tb(),w.Ub(17,"td",29),w.Ec(18),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Tb()),2&t){var n=e.$implicit,c=w.jc(4);w.Cb(5),w.Fc(n.name),w.Cb(2),w.pc("ngIf",n.wares.length),w.Cb(11),w.Fc(c.getProductionTime(n.time))}}function D(t,e){if(1&t&&(w.Ub(0,"div",20),w.Cc(1,_,19,3,"div",21),w.Tb()),2&t){var n=w.jc(3);w.Cb(1),w.pc("ngForOf",n.entityProduction)}}function V(t,e){if(1&t&&(w.Ub(0,"div",7),w.Cc(1,O,3,1,"div",8),w.Ub(2,"div",9),w.Ub(3,"div",10),w.Ub(4,"dl",9),w.Ub(5,"dt",11),w.Ec(6,"Race"),w.Tb(),w.Ub(7,"dd",12),w.Cc(8,z,3,4,"span",13),w.Cc(9,I,2,0,"span",13),w.Tb(),w.Ub(10,"dt",11),w.Ec(11,"Type"),w.Tb(),w.Ub(12,"dd",12),w.Ub(13,"span"),w.Ec(14),w.Tb(),w.Tb(),w.Ub(15,"dt",11),w.Ec(16,"Size"),w.Tb(),w.Ub(17,"dd",12),w.Ec(18),w.Tb(),w.Ub(19,"dt",11),w.Ec(20,"Hull"),w.Tb(),w.Ub(21,"dd",12),w.Ec(22),w.kc(23,"number"),w.Tb(),w.Ub(24,"dt",11),w.Ec(25,"Explosion Damage"),w.Tb(),w.Ub(26,"dd",12),w.Ub(27,"span"),w.Ec(28),w.kc(29,"number"),w.Tb(),w.Tb(),w.Ub(30,"dt",11),w.Ec(31,"Owners"),w.Tb(),w.Ub(32,"dd",12),w.Ub(33,"ul",14),w.Cc(34,Q,3,4,"li",15),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Ub(35,"div",10),w.Ub(36,"dl",9),w.Ub(37,"dt",11),w.Ec(38,"Missile Storage"),w.Tb(),w.Ub(39,"dd",12),w.Ec(40),w.kc(41,"number"),w.Tb(),w.Ub(42,"dt",11),w.Ec(43,"Drone Storage"),w.Tb(),w.Ub(44,"dd",12),w.Ec(45),w.kc(46,"number"),w.Tb(),w.Ub(47,"dt",11),w.Ec(48,"People"),w.Tb(),w.Ub(49,"dd",12),w.Ec(50),w.kc(51,"number"),w.Tb(),w.Ub(52,"dt",11),w.Ec(53,"Purpose"),w.Tb(),w.Ub(54,"dd",12),w.Ec(55),w.Tb(),w.Tb(),w.Tb(),w.Ub(56,"div",10),w.Ub(57,"dl",9),w.Ub(58,"dt",11),w.Ec(59,"Engines"),w.Tb(),w.Ub(60,"dd",12),w.Ec(61),w.Tb(),w.Ub(62,"dt",11),w.Ec(63,"Docks"),w.Tb(),w.Ub(64,"dd",12),w.Ec(65),w.Tb(),w.Ub(66,"dt",11),w.Ec(67,"Weapons"),w.Tb(),w.Ub(68,"dd",12),w.Ec(69),w.Tb(),w.Ub(70,"dt",11),w.Ec(71,"Turrets"),w.Tb(),w.Ub(72,"dd",12),w.Ec(73),w.Tb(),w.Ub(74,"dt",11),w.Ec(75,"Main Shields"),w.Tb(),w.Ub(76,"dd",12),w.Ec(77),w.Tb(),w.Ub(78,"dt",11),w.Ec(79,"Additional Shields"),w.Tb(),w.Ub(80,"dd",12),w.Ec(81),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Cc(82,D,2,1,"div",16),w.Tb()),2&t){var n=w.jc(2);w.Cb(1),w.pc("ngIf","No information available"!=n.entity.description),w.Cb(7),w.pc("ngIf",n.entity.race),w.Cb(1),w.pc("ngIf",!n.entity.race),w.Cb(5),w.Fc(n.entity.type||"-"),w.Cb(4),w.Fc(n.entity.size),w.Cb(4),w.Fc(w.lc(23,19,n.entity.hull)),w.Cb(6),w.Fc(w.lc(29,21,n.entity.explosionDamage)||"-"),w.Cb(6),w.pc("ngForOf",n.entity.owners),w.Cb(6),w.Fc(null!=n.entity.storage&&n.entity.storage.missile?w.lc(41,23,null==n.entity.storage?null:n.entity.storage.missile):"-"),w.Cb(5),w.Fc(null!=n.entity.storage&&n.entity.storage.unit?w.lc(46,25,null==n.entity.storage?null:n.entity.storage.unit):"-"),w.Cb(5),w.Fc(w.lc(51,27,n.entity.people)||"-"),w.Cb(5),w.Fc(n.entity.purpose),w.Cb(6),w.Fc(n.getSlotsStr(n.entity.engines)),w.Cb(4),w.Fc(n.getSlotsStr(n.entity.docks)),w.Cb(4),w.Fc(n.getSlotsStr(n.entity.weapons)),w.Cb(4),w.Fc(n.getSlotsStr(n.entity.turrets)),w.Cb(4),w.Fc(n.getSlotsStr(n.mainShields)),w.Cb(4),w.Fc(n.getSlotsStr(n.additionalShields)),w.Cb(1),w.pc("ngIf",n.entityProduction&&n.entityProduction.length)}}function A(t,e){if(1&t&&(w.Ub(0,"div",3),w.Ub(1,"div",4),w.Ub(2,"a",5),w.Ec(3,"Ships"),w.Tb(),w.Ec(4),w.Tb(),w.Cc(5,V,83,29,"div",6),w.Tb()),2&t){var n=w.jc();w.Cb(4),w.Gc(" - ",n.entity.name," "),w.Cb(1),w.pc("ngIf",n.entity)}}var B,W,$,J=(($=function(t){o(r,t);var n=a(r);function r(t,c,i,o){var a;return e(this,r),(a=n.call(this,c,i)).wareService=t,a.titleService=o,a}return c(r,[{key:"ngOnInit",value:function(){this.titleService.setTitle("".concat(U.a," - Ships")),i(l(r.prototype),"ngOnInit",this).call(this)}},{key:"onEntityLoaded",value:function(t){var e=this;this.titleService.setTitle("".concat(U.a," - ").concat(t.name)),this.entityProduction=t.production.map(function(t){return{amount:t.amount,effects:t.effects,method:t.method,name:t.name,time:t.time,wares:t.wares.map(function(t){return{ware:e.wareService.getEntity(t.ware),amount:t.amount}})}})}},{key:"getTotalMin",value:function(t){var e=0;return t.wares.forEach(function(t){e+=t.amount*t.ware.price.min}),e}},{key:"getTotalMax",value:function(t){var e=0;return t.wares.forEach(function(t){e+=t.amount*t.ware.price.max}),e}},{key:"getTotalAvg",value:function(t){var e=0;return t.wares.forEach(function(t){e+=t.amount*t.ware.price.avg}),e}},{key:"getProductionTime",value:function(t){var e=Math.trunc(t/60),n=t-60*e,c="";return e>0&&(c+=e+(1===e?" minute":" minutes")),n>0&&(e>0&&(c+=" "),c+=n+(1===n?" second":" seconds")),c}},{key:"mainShields",get:function(){return this.entity.shields?this.entity.shields.filter(function(t){return!t.group}):[]}},{key:"additionalShields",get:function(){return this.entity.shields?this.entity.shields.filter(function(t){return t.group}):[]}},{key:"getSlotsStr",value:function(t){var e=this.getSlots(t);return 0==e.length?"-":e.map(function(t){return"".concat(t.capacity," x ").concat(t.size)}).join(", ")}},{key:"getSlots",value:function(t){if(!t)return[];var e=t.reduce(function(t,e){return t[e.size]=t[e.size]||0,t[e.size]+=e.capacity||1,t},{}),n=[];return Object.keys(e).forEach(function(t){n.push({size:t,capacity:e[t]})}),n}}]),r}(k.a)).\u0275fac=function(t){return new(t||$)(w.Pb(x.a),w.Pb(m.a),w.Pb(p.a),w.Pb(C.c))},$.\u0275cmp=w.Jb({type:$,selectors:[["ng-component"]],features:[w.zb],decls:3,vars:1,consts:[[1,"row","content-row"],[1,"col-md-12"],["class","card shadow",4,"ngIf"],[1,"card","shadow"],[1,"card-header","shadow-sm"],["routerLink","/ships"],["class","card-body small",4,"ngIf"],[1,"card-body","small"],["class","form-group row",4,"ngIf"],[1,"row"],[1,"col-md-4","col-sm-12"],[1,"col-5"],[1,"col-7"],[4,"ngIf"],[1,"list-unstyled"],[4,"ngFor","ngForOf"],["class","row mt-2 mb-2",4,"ngIf"],[1,"form-group","row"],[1,"col","col-form-label","col-form-label-sm"],[3,"routerLink"],[1,"row","mt-2","mb-2"],["class","col-md-6 col-sm-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-sm-6","col-lg-4"],[1,"card","shadow-sm"],[1,"card-header"],[1,"card-body"],["class","row",4,"ngIf"],[1,"col"],[1,"table","table-sm"],[1,"text-right"]],template:function(t,e){1&t&&(w.Ub(0,"div",0),w.Ub(1,"div",1),w.Cc(2,A,6,2,"div",2),w.Tb(),w.Tb()),2&t&&(w.Cb(2),w.pc("ngIf",e.entity))},directives:[P.l,p.e,P.k],pipes:[P.d],encapsulation:2}),$),X=((W=function t(){e(this,t)}).\u0275fac=function(t){return new(t||W)},W.\u0275mod=w.Nb({type:W}),W.\u0275inj=w.Mb({imports:[[p.f.forChild([{path:"",component:F},{path:":id",component:J}])],p.f]}),W),Z=((B=function t(){e(this,t)}).\u0275fac=function(t){return new(t||B)},B.\u0275mod=w.Nb({type:B}),B.\u0275inj=w.Mb({imports:[[P.b,s.c,d.a,E.b,X]]}),B)}}])}();