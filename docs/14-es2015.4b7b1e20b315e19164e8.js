(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{tjUr:function(t,e,c){"use strict";c.r(e),c.d(e,"WareModule",function(){return X});var n=c("1kSV"),i=c("3Pt+"),b=c("PCNd"),o=c("tyNb"),r=c("ofXK"),a=c("Lswn"),s=c("Z8VL"),d=c("1DzF"),l=c("82i/"),u=c("9QbX"),m=c("fXoL"),p=c("jhN1"),f=c("ZzPI"),T=c("6t9p");let U=(()=>{class t extends s.a{constructor(t,e,c,n){super(t,e,c),this.titleService=n}ngOnInit(){this.titleService.setTitle(`${u.a} - Wares`),this.transportTypes=l.a.values(d.a),super.ngOnInit()}calculatePriceDiffPerVolume(t){return(t.price.max-t.price.min)/t.volume}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(a.a),m.Pb(o.c),m.Pb(o.a),m.Pb(p.c))},t.\u0275cmp=m.Jb({type:t,selectors:[["ng-component"]],features:[m.zb],decls:22,vars:15,consts:function(){let t;return t=$localize`:@@wares␟dc84fe1ce67259c6e277d50897f8e484187b760a␟4018281700470621337: Wares `,[[1,"row","content-row"],[1,"col-md-12"],[1,"card","shadow"],[1,"card-header","shadow-sm"],t,[1,"card-body"],["keyExpr","id",3,"dataSource","allowColumnReordering","allowColumnResizing","showBorders","hoverStateEnabled","onCellClick"],[3,"showPageSizeSelector","showNavigationButtons"],["mode","multiple"],[3,"applyFilter","visible"],[3,"visible"],["dataField","name","caption","Name"],["dataField","transport","caption","Transport"],[3,"dataSource"],["dataField","price.min","caption","Min Price","dataType","number","format","fixedPoint"],["dataField","price.avg","caption","Avg Price","dataType","number","format","fixedPoint"],["dataField","price.max","caption","Max Price","dataType","number","format","fixedPoint"],["dataField","volume","caption","Volume","dataType","number","format","fixedPoint"],["caption","Price Diff / Volume","dataType","number","name","priceDiffPerVolume",3,"allowSorting","allowFiltering","calculateCellValue"],["type","fixedPoint",3,"precision"],["column","name","summaryType","count"]]},template:function(t,e){1&t&&(m.Ub(0,"div",0),m.Ub(1,"div",1),m.Ub(2,"div",2),m.Ub(3,"div",3),m.Yb(4,4),m.Tb(),m.Ub(5,"div",5),m.Ub(6,"dx-data-grid",6),m.hc("onCellClick",function(t){return e.onRowSelect(t)}),m.Qb(7,"dxo-pager",7),m.Qb(8,"dxo-sorting",8),m.Qb(9,"dxo-filter-row",9),m.Qb(10,"dxo-filter-panel",10),m.Qb(11,"dxi-column",11),m.Ub(12,"dxi-column",12),m.Qb(13,"dxo-lookup",13),m.Tb(),m.Qb(14,"dxi-column",14),m.Qb(15,"dxi-column",15),m.Qb(16,"dxi-column",16),m.Qb(17,"dxi-column",17),m.Ub(18,"dxi-column",18),m.Qb(19,"dxo-format",19),m.Tb(),m.Ub(20,"dxo-summary"),m.Qb(21,"dxi-total-item",20),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb()),2&t&&(m.Cb(6),m.pc("dataSource",e.entities)("allowColumnReordering",!0)("allowColumnResizing",!0)("showBorders",!0)("hoverStateEnabled",!0),m.Cb(1),m.pc("showPageSizeSelector",!0)("showNavigationButtons",!0),m.Cb(2),m.pc("applyFilter",e.currentFilter)("visible",!0),m.Cb(1),m.pc("visible",!0),m.Cb(3),m.pc("dataSource",e.transportTypes),m.Cb(5),m.pc("allowSorting",!0)("allowFiltering",!0)("calculateCellValue",e.calculatePriceDiffPerVolume),m.Cb(1),m.pc("precision",2))},directives:[f.a,T.Y,T.jb,T.E,T.C,T.b,T.S,T.I,T.mb,T.l],encapsulation:2}),t})();var g=c("ZXMZ"),v=c("6mEA"),C=c("vmnB"),E=c("btHo");function h(t,e){1&t&&(m.Ub(0,"span"),m.Ec(1," | "),m.Tb())}const w=function(t){return["/factions",t]};function y(t,e){if(1&t&&(m.Ub(0,"span"),m.Ub(1,"a",24),m.Ec(2),m.Tb(),m.Cc(3,h,2,0,"span",25),m.Tb()),2&t){const t=e.$implicit,c=e.last;m.Cb(1),m.pc("routerLink",m.sc(3,w,t.id)),m.Cb(1),m.Fc(t.name),m.Cb(1),m.pc("ngIf",!c)}}function F(t,e){if(1&t&&(m.Sb(0),m.Cc(1,y,4,5,"span",23),m.Rb()),2&t){const t=m.jc(3);m.Cb(1),m.pc("ngForOf",t.entity.illegal)}}function x(t,e){1&t&&m.Ec(0," - ")}const I=function(t){return["/wares/",t]};function P(t,e){if(1&t&&(m.Ub(0,"tr"),m.Ub(1,"td"),m.Ec(2),m.Ub(3,"a",24),m.Ec(4),m.Tb(),m.Tb(),m.Ub(5,"td",36),m.Ec(6),m.kc(7,"number"),m.Tb(),m.Ub(8,"td",36),m.Ec(9),m.kc(10,"number"),m.Tb(),m.Ub(11,"td",36),m.Ec(12),m.kc(13,"number"),m.Tb(),m.Tb()),2&t){const t=e.$implicit;m.Cb(2),m.Gc(" ",t.amount," x "),m.Cb(1),m.pc("routerLink",m.sc(12,I,t.ware.id)),m.Cb(1),m.Fc(t.ware.name),m.Cb(2),m.Fc(m.lc(7,6,t.amount*t.ware.price.min)),m.Cb(3),m.Fc(m.lc(10,8,t.amount*t.ware.price.max)),m.Cb(3),m.Fc(m.lc(13,10,t.amount*t.ware.price.avg))}}function k(t,e){if(1&t&&(m.Ub(0,"div",10),m.Ub(1,"div",34),m.Ub(2,"h6"),m.Ec(3,"Requirements"),m.Tb(),m.Ub(4,"table",35),m.Ub(5,"thead"),m.Ub(6,"tr"),m.Ub(7,"th"),m.Ec(8,"Resource"),m.Tb(),m.Ub(9,"th",36),m.Ec(10,"Min"),m.Tb(),m.Ub(11,"th",36),m.Ec(12,"Max"),m.Tb(),m.Ub(13,"th",36),m.Ec(14,"Avg"),m.Tb(),m.Tb(),m.Tb(),m.Ub(15,"tbody"),m.Cc(16,P,14,14,"tr",23),m.Tb(),m.Ub(17,"tfoot"),m.Ub(18,"tr"),m.Ub(19,"th",36),m.Ec(20,"Total"),m.Tb(),m.Ub(21,"th",36),m.Ec(22),m.kc(23,"number"),m.Tb(),m.Ub(24,"th",36),m.Ec(25),m.kc(26,"number"),m.Tb(),m.Ub(27,"th",36),m.Ec(28),m.kc(29,"number"),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb()),2&t){const t=m.jc().$implicit,e=m.jc(5);m.Cb(16),m.pc("ngForOf",t.wares),m.Cb(6),m.Fc(m.lc(23,4,e.getTotalMin(t))),m.Cb(3),m.Fc(m.lc(26,6,e.getTotalMax(t))),m.Cb(3),m.Fc(m.lc(29,8,e.getTotalAvg(t)))}}function S(t,e){if(1&t&&(m.Ub(0,"tr"),m.Ub(1,"td"),m.Ec(2,"Max Efficiency"),m.Tb(),m.Ub(3,"td",36),m.Ec(4),m.Tb(),m.Tb()),2&t){const t=m.jc().$implicit;m.Cb(4),m.Gc("",100*t.efficiency.product+100,"% ")}}function M(t,e){if(1&t&&(m.Ub(0,"tr"),m.Ub(1,"td"),m.Ec(2),m.Tb(),m.Ub(3,"td",36),m.Ub(4,"span",37),m.Ec(5," Min: "),m.Ub(6,"strong"),m.Ec(7),m.kc(8,"number"),m.Tb(),m.Ec(9," / "),m.Tb(),m.Ub(10,"span",38),m.Ec(11," Avg: "),m.Ub(12,"strong"),m.Ec(13),m.kc(14,"number"),m.Tb(),m.Ec(15," / "),m.Tb(),m.Ub(16,"span",13),m.Ec(17," Max: "),m.Ub(18,"strong"),m.Ec(19),m.kc(20,"number"),m.Tb(),m.Tb(),m.Tb(),m.Tb()),2&t){const t=m.jc().$implicit,e=m.jc(5);m.Cb(2),m.Gc("Profit per Hour (",100*t.efficiency.product+100,"% Efficiency) "),m.Cb(5),m.Fc(m.mc(8,4,e.entity.price.min*(3600/t.time)*t.amount*(1+t.efficiency.product),"1.0-0")),m.Cb(6),m.Fc(m.mc(14,7,e.entity.price.avg*(3600/t.time)*t.amount*(1+t.efficiency.product),"1.0-0")),m.Cb(6),m.Fc(m.mc(20,10,e.entity.price.max*(3600/t.time)*t.amount*(1+t.efficiency.product),"1.0-0"))}}function N(t,e){if(1&t&&(m.Ub(0,"div",29),m.Ub(1,"div",30),m.Ub(2,"div",31),m.Ec(3),m.Tb(),m.Ub(4,"div",32),m.Cc(5,k,30,10,"div",33),m.Ub(6,"div",10),m.Ub(7,"div",34),m.Ub(8,"h6"),m.Ec(9,"Production"),m.Tb(),m.Ub(10,"table",35),m.Ub(11,"tbody"),m.Ub(12,"tr"),m.Ub(13,"td"),m.Ec(14,"Cycle Time"),m.Tb(),m.Ub(15,"td",36),m.Ec(16),m.Tb(),m.Tb(),m.Ub(17,"tr"),m.Ub(18,"td"),m.Ec(19,"Batch Size"),m.Tb(),m.Ub(20,"td",36),m.Ec(21),m.Tb(),m.Tb(),m.Ub(22,"tr"),m.Ub(23,"td"),m.Ec(24,"Products per Hour"),m.Tb(),m.Ub(25,"td",36),m.Ec(26),m.kc(27,"number"),m.Tb(),m.Tb(),m.Cc(28,S,5,1,"tr",25),m.Ub(29,"tr"),m.Ub(30,"td"),m.Ec(31,"Profit per Hour (100% Efficiency)"),m.Tb(),m.Ub(32,"td",36),m.Ub(33,"span",37),m.Ec(34," Min: "),m.Ub(35,"strong"),m.Ec(36),m.kc(37,"number"),m.Tb(),m.Ec(38," / "),m.Tb(),m.Ub(39,"span",38),m.Ec(40," Avg: "),m.Ub(41,"strong"),m.Ec(42),m.kc(43,"number"),m.Tb(),m.Ec(44," / "),m.Tb(),m.Ub(45,"span",13),m.Ec(46," Max: "),m.Ub(47,"strong"),m.Ec(48),m.kc(49,"number"),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Cc(50,M,21,13,"tr",25),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb()),2&t){const t=e.$implicit,c=m.jc(5);m.Cb(3),m.Gc(" ",t.name," "),m.Cb(2),m.pc("ngIf",t.wares.length),m.Cb(11),m.Fc(c.getProductionTime(t.time)),m.Cb(5),m.Fc(t.amount),m.Cb(5),m.Fc(m.mc(27,10,3600/t.time*t.amount,"1.0")),m.Cb(2),m.pc("ngIf",t.efficiency),m.Cb(8),m.Fc(m.mc(37,13,c.entity.price.min*(3600/t.time)*t.amount,"1.0-0")),m.Cb(6),m.Fc(m.mc(43,16,c.entity.price.avg*(3600/t.time)*t.amount,"1.0-0")),m.Cb(6),m.Fc(m.mc(49,19,c.entity.price.max*(3600/t.time)*t.amount,"1.0-0")),m.Cb(2),m.pc("ngIf",t.efficiency)}}function j(t,e){if(1&t&&(m.Ub(0,"div",27),m.Cc(1,N,51,22,"div",28),m.Tb()),2&t){const t=m.jc(4);m.Cb(1),m.pc("ngForOf",t.entityProduction)}}function O(t,e){if(1&t&&m.Cc(0,j,2,1,"div",26),2&t){const t=m.jc(3);m.pc("ngIf",t.entityProduction&&t.entityProduction.length)}}function Q(t,e){1&t&&(m.Ub(0,"div",45),m.Ec(1,"No usage found."),m.Tb())}function $(t,e){if(1&t&&(m.Ub(0,"div",46),m.Ub(1,"a",24),m.Ec(2),m.Tb(),m.Tb()),2&t){const t=e.$implicit;m.Cb(1),m.pc("routerLink",m.sc(2,I,t.id)),m.Cb(1),m.Fc(t.name)}}function L(t,e){1&t&&(m.Ub(0,"div",45),m.Ec(1,"No usage found."),m.Tb())}const z=function(t){return["/ships/",t]};function R(t,e){if(1&t&&(m.Ub(0,"div",47),m.Ub(1,"a",24),m.Ec(2),m.Tb(),m.Tb()),2&t){const t=e.$implicit;m.Cb(1),m.pc("routerLink",m.sc(2,z,t.id)),m.Cb(1),m.Fc(t.name)}}function V(t,e){1&t&&(m.Ub(0,"div",45),m.Ec(1,"No usage found."),m.Tb())}const W=function(t){return["/modules/",t]};function A(t,e){if(1&t&&(m.Ub(0,"div",47),m.Ub(1,"a",24),m.Ec(2),m.Tb(),m.Tb()),2&t){const t=e.$implicit;m.Cb(1),m.pc("routerLink",m.sc(2,W,t.id)),m.Cb(1),m.Fc(t.name)}}function B(t,e){if(1&t&&(m.Ub(0,"div",27),m.Ub(1,"div",39),m.Ub(2,"div",40),m.Ub(3,"div",41),m.Ec(4," Wares "),m.Tb(),m.Ub(5,"div",7),m.Ub(6,"div",10),m.Cc(7,Q,2,0,"div",42),m.Cc(8,$,3,4,"div",43),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Ub(9,"div",39),m.Ub(10,"div",40),m.Ub(11,"div",41),m.Ec(12," Ships "),m.Tb(),m.Ub(13,"div",7),m.Ub(14,"div",10),m.Cc(15,L,2,0,"div",42),m.Cc(16,R,3,4,"div",44),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Ub(17,"div",39),m.Ub(18,"div",40),m.Ub(19,"div",41),m.Ec(20," Station Modules "),m.Tb(),m.Ub(21,"div",7),m.Ub(22,"div",10),m.Cc(23,V,2,0,"div",42),m.Cc(24,A,3,4,"div",44),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb()),2&t){const t=m.jc(3);m.Cb(7),m.pc("ngIf",!t.waresUsedIn.length),m.Cb(1),m.pc("ngForOf",t.waresUsedIn),m.Cb(7),m.pc("ngIf",!t.shipsUsedIn.length),m.Cb(1),m.pc("ngForOf",t.shipsUsedIn),m.Cb(7),m.pc("ngIf",!t.modulesUsedIn.length),m.Cb(1),m.pc("ngForOf",t.modulesUsedIn)}}function D(t,e){if(1&t&&(m.Ub(0,"div",7),m.Ub(1,"div",8),m.Ub(2,"label",9),m.Ec(3),m.Tb(),m.Tb(),m.Ub(4,"dl",10),m.Ub(5,"dt",11),m.Ec(6,"Price"),m.Tb(),m.Ub(7,"dd",12),m.Ec(8),m.kc(9,"number"),m.kc(10,"number"),m.Ub(11,"span",13),m.Ec(12),m.kc(13,"number"),m.Tb(),m.Tb(),m.Ub(14,"dt",11),m.Ec(15,"Volume"),m.Tb(),m.Ub(16,"dd",12),m.Ec(17),m.Tb(),m.Ub(18,"dt",11),m.Ec(19,"Transport"),m.Tb(),m.Ub(20,"dd",12),m.Ec(21),m.Tb(),m.Ub(22,"dt",11),m.Ec(23,"Type"),m.Tb(),m.Ub(24,"dd",12),m.Ec(25),m.Tb(),m.Ub(26,"dt",11),m.Ec(27,"Illegal"),m.Tb(),m.Ub(28,"dd",12),m.Cc(29,F,2,1,"ng-container",14),m.Cc(30,x,1,0,"ng-template",null,15,m.Dc),m.Tb(),m.Tb(),m.Ub(32,"ul",16,17),m.Ub(34,"li",18),m.Ub(35,"a",19),m.Ec(36,"Construction"),m.Tb(),m.Cc(37,O,1,1,"ng-template",20),m.Tb(),m.Ub(38,"li",21),m.Ub(39,"a",19),m.Ec(40,"Required For"),m.Tb(),m.Cc(41,B,25,6,"ng-template",20),m.Tb(),m.Tb(),m.Qb(42,"div",22),m.Tb()),2&t){const t=m.wc(31),e=m.wc(33),c=m.jc(2);m.Cb(3),m.Fc(c.entity.description),m.Cb(5),m.Hc(" ",m.lc(9,10,c.entity.price.min)," - ",m.lc(10,12,c.entity.price.max)," "),m.Cb(4),m.Gc("(difference: ",m.lc(13,14,c.entity.price.max-c.entity.price.min)," )"),m.Cb(5),m.Fc(c.entity.volume),m.Cb(4),m.Fc(c.entity.transport),m.Cb(4),m.Fc(c.entity.group.name),m.Cb(4),m.pc("ngIf",c.entity.illegal&&c.entity.illegal.length>0)("ngIfElse",t),m.Cb(13),m.pc("ngbNavOutlet",e)}}function G(t,e){if(1&t&&(m.Ub(0,"div",3),m.Ub(1,"div",4),m.Ub(2,"a",5),m.Ec(3,"Wares"),m.Tb(),m.Ec(4),m.Tb(),m.Cc(5,D,43,16,"div",6),m.Tb()),2&t){const t=m.jc();m.Cb(4),m.Gc(" - ",t.entity.name," "),m.Cb(1),m.pc("ngIf",t.entity)}}let H=(()=>{class t extends v.a{constructor(t,e,c,n,i){super(t,n),this.wareService=t,this.moduleService=e,this.shipService=c,this.titleService=i,this.waresUsedIn=[],this.modulesUsedIn=[],this.shipsUsedIn=[]}ngOnInit(){this.titleService.setTitle(`${u.a} - Wares`),super.ngOnInit()}onEntityLoaded(t){this.titleService.setTitle(`${u.a} - ${this.entity.name}`),this.entityProduction=this.entity.production.map(t=>({amount:t.amount,effects:t.effects,method:t.method,name:t.name,time:t.time,efficiency:null==t.effects?null:t.effects.find(t=>t.type==C.a.work),wares:t.wares.map(t=>({ware:this.service.getEntity(t.ware),amount:t.amount}))})),this.waresUsedIn=this.wareService.getWaresUsingWare(t.id),this.modulesUsedIn=this.moduleService.getModulesUsingWare(t.id),this.shipsUsedIn=this.shipService.getEntitiesUsingWare(this.entity.id)}getTotalMin(t){let e=0;return t.wares.forEach(t=>{e+=t.amount*t.ware.price.min}),e}getTotalMax(t){let e=0;return t.wares.forEach(t=>{e+=t.amount*t.ware.price.max}),e}getTotalAvg(t){let e=0;return t.wares.forEach(t=>{e+=t.amount*t.ware.price.avg}),e}getProductionTime(t){const e=Math.trunc(t/60),c=t-60*e;let n="";return e>0&&(n+=e+(1===e?" minute":" minutes")),c>0&&(e>0&&(n+=" "),n+=c+(1===c?" second":" seconds")),n}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(a.a),m.Pb(g.a),m.Pb(E.a),m.Pb(o.a),m.Pb(p.c))},t.\u0275cmp=m.Jb({type:t,selectors:[["ng-component"]],features:[m.zb],decls:3,vars:1,consts:[[1,"row","content-row"],[1,"col-md-12"],["class","card shadow",4,"ngIf"],[1,"card","shadow"],[1,"card-header","shadow-sm"],["routerLink","/wares"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"form-group","row"],[1,"col","col-form-label","col-form-label-sm"],[1,"row"],[1,"col-sm-2"],[1,"col-sm-10"],[1,"text-success"],[4,"ngIf","ngIfElse"],["noIllegal",""],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","","title","Required For"],[3,"ngbNavOutlet"],[4,"ngFor","ngForOf"],[3,"routerLink"],[4,"ngIf"],["class","row mt-2 mb-2",4,"ngIf"],[1,"row","mt-2","mb-2"],["class","col-md-6 col-sm-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-sm-6","col-lg-4"],[1,"card","shadow-sm"],[1,"card-header","small"],[1,"card-body","small"],["class","row",4,"ngIf"],[1,"col"],[1,"table","table-sm"],[1,"text-right"],[1,"text-danger"],[1,"text-primary"],[1,"col-md-4","col-sm-12"],[1,"card","small"],[1,"card-header"],["class","col text-info",4,"ngIf"],["class","col-md-4 col-sm-6",4,"ngFor","ngForOf"],["class","col-md-6 col-sm-12",4,"ngFor","ngForOf"],[1,"col","text-info"],[1,"col-md-4","col-sm-6"],[1,"col-md-6","col-sm-12"]],template:function(t,e){1&t&&(m.Ub(0,"div",0),m.Ub(1,"div",1),m.Cc(2,G,6,2,"div",2),m.Tb(),m.Tb()),2&t&&(m.Cb(2),m.pc("ngIf",e.entity))},directives:[r.l,o.e,n.e,n.g,n.h,n.f,n.j,r.k],pipes:[r.d],encapsulation:2}),t})(),J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.Nb({type:t}),t.\u0275inj=m.Mb({imports:[[o.f.forChild([{path:"",component:U},{path:":id",component:H}])],o.f]}),t})(),X=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.Nb({type:t}),t.\u0275inj=m.Mb({imports:[[n.i,r.b,i.c,b.a,o.f,f.b,J]]}),t})()}}]);